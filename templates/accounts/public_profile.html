{% extends "base.html" %}
{% block title %}@{{ profile.username }} · StudyWithKimy{% endblock %}
{% block content %}
<div class="mx-auto max-w-3xl space-y-6">
  <!-- Header -->
  <header class="card p-5 flex items-center justify-between">
    <div>
      <h1 class="text-2xl font-bold">{{ profile.display_name|default:profile.get_full_name|default:profile.username }}</h1>
      <p class="text-slate-600">@{{ profile.username }} · {{ profile.role|capfirst }}</p>
      {% if profile.bio %}
        <p class="mt-2 text-slate-700">{{ profile.bio }}</p>
      {% endif %}
    </div>
    {% if profile.photo %}
      <img src="{{ profile.photo.url }}" class="h-16 w-16 rounded-full object-cover" alt="">
    {% endif %}
  </header>

  <!-- Status updates -->
  <section class="card p-5">
    <h2 class="font-semibold">Recent updates</h2>
    <ul class="mt-3 space-y-3">
      {% for s in statuses %}
        <li class="border border-slate-200 rounded-xl p-3">
          <p>{{ s.text }}</p>
          <p class="mt-1 text-xs text-slate-500">{{ s.created_at|date:"M d, Y · H:i" }}</p>
        </li>
      {% empty %}
        <li class="text-slate-600">No updates yet.</li>
      {% endfor %}
    </ul>
  </section>

  <!-- Courses -->
  <section class="card p-5">
    <h2 class="font-semibold">Courses</h2>
    <ul class="mt-3 grid sm:grid-cols-2 gap-2">
      {% for c in courses_taught %}
        <li class="border border-slate-200 rounded-xl p-3">
          <span class="font-medium">{{ c.title }}</span>
          <span class="ml-2 text-xs text-slate-500">(teaching)</span>
        </li>
      {% endfor %}
      {% for c in enrolled_courses %}
        <li class="border border-slate-200 rounded-xl p-3">
          <span class="font-medium">{{ c.title }}</span>
          <span class="ml-2 text-xs text-slate-500">(enrolled)</span>
        </li>
      {% endfor %}
      {% if not courses_taught and not enrolled_courses %}
        <li class="text-slate-600">No courses yet.</li>
      {% endif %}
    </ul>
  </section>
</div>
{% endblock %}
